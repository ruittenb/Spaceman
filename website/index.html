<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Spaceman</title>
        <link rel="stylesheet" href="spaceman.css">
        <link rel="icon" href="icons/favicon.ico" sizes="any">
        <link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16.png">
        <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
    </head>
    <body>
        <div class="Spaceman_container">
            <header>
                <img src="images/spaceman-header.jpg" alt="Spaceman header image" class="Spaceman_headerImage">

                <hgroup>
                <h1>Spaceman</h1>
                <h2>A macOS app to view, rename and navigate between Spaces (Virtual Desktops) in the menu bar</h2>
                </hgroup>

                <div class="AppDetails_container">
                    <ul class="AppDetails_grid">
                        <li><h6>Platform</h6><span class="AppDetails_detail">macOS 11.0 +</span></li>
                        <li><h6>Size</h6><span class="AppDetails_detail" id="app-size">~4.4 MB</span></li>
                        <li><h6>Version</h6><span class="AppDetails_detail" id="version-number">v1.12+</span></li>
                        <li><h6>Updated</h6><span class="AppDetails_detail" id="updated-date">2025</span></li>
                        <li><h6>Downloads</h6><span class="AppDetails_detail" id="downloads">&gt; 1300</span></li>
                        <!--<li><h6>Forks</h6><span class="AppDetails_detail">*</span></li>-->
                        <li><h6>Stars</h6><span class="AppDetails_detail" id="stars-count">51</span></li>
                    </ul>
                </div>

                <div class="Spaceman_buttons">
                    <a href="https://github.com/ruittenb/Spaceman" class="Button_button">
                        <span>
                            <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github"
                                class="svg-inline--fa fa-github fa-w-16 Button_icon" role="img"
                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" width="16" height="16"
                            >
                                <path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6
                                    0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1
                                    5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6
                                    4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1
                                    8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2
                                    -.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4
                                    0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2
                                    -112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9
                                    -6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27
                                    13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8
                                    110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2
                                    457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2
                                    1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1z m-10.8-8.1c-.7
                                    1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6 -.3-4.3.7z
                                    m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2
                                    -2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3
                                    1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"
                                />
                            </svg>
                            View on Github
                        </span>
                    </a>
                    <a href="https://github.com/ruittenb/Spaceman/releases/latest" class="Button_button primary" id="download-button">
                        <span>
                            <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-down"
                                class="svg-inline--fa fa-arrow-down fa-w-14 Button_icon" role="img"
                                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"
                            >
                                <path fill="currentColor" d="M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241
                                    473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c
                                    9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24
                                    24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"
                                />
                            </svg>
                            Download App
                        </span>
                    </a>
                </div>
            </header>

            <main>
                <hr>
                <div class="Spaceman_appImage">
                    <img src="images/spaceman-icons.png" alt="Spaceman app screenshot"
                        style="width: 66%; height: auto; display: block;"
                    >
                </div>

                <p>
                    Spaceman shows your macOS Spaces (Virtual Desktops) in the menu bar, so you can see which
                    space you're on relative to all your other spaces. It supports multiple displays and lets
                    you name spaces to organize your workflow.
                </p>

                <div class="Spaceman_Fork">
                    <h3>About This Fork</h3>
                    <p>
                        This app is based on the original Spaceman application created by
                        <a href="https://github.com/Jaysce">Sasindu Jayasinghe</a>. We appreciate this useful
                        app and all the foundational work that went into it. You can visit the
                        <a href="https://www.jaysce.dev/projects/spaceman">original project page</a> and
                        <a href="https://github.com/Jaysce/Spaceman">original repository</a>.
                    </p>
                    <p>
                        Since the original repository is no longer actively maintained,
                        this fork continues development with bug fixes and new features.
                    </p>
                </div>

                <ul class="Spaceman_features">
                    <li>
                        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="cog"
                            class="svg-inline--fa fa-cog fa-w-16" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
                        >
                            <path fill="currentColor" d="M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6
                                -24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8
                                -2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7
                                -8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8
                                35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6
                                11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14
                                11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3
                                60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1
                                9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3
                                24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9
                                -80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"
                            />
                        </svg>
                        <span>Customizable</span>
                        <p>
                            Spaceman can be customized with 5 different icon styles in 5 different sizes.
                            Have a minimal view of your space or have them named.
                        </p>

                        <div class="Spaceman_stylesGrid">
                            <div>
                                <img src="images/style-numbers.png" alt="Numbers style">
                                <small>Numbers</small>
                            </div>
                            <div>
                                <img src="images/style-names.png" alt="Names style">
                                <small>Names</small>
                            </div>
                            <div>
                                <img src="images/style-dual-rows.png" alt="Dual rows style">
                                <small>Dual Rows</small>
                            </div>
                            <div>
                                <img src="images/style-nums-names.png" alt="Numbers and names style">
                                <small>Numbers and Names</small>
                            </div>
                        </div>
                    </li>
                    <li>
                        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="mouse-pointer"
                            class="svg-inline--fa fa-mouse-pointer fa-w-10" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"
                        >
                            <path fill="currentColor" d="m0 55.2V426c0 12.2 9.9 22 22 22c6.3 0 12.4-2.7 16.6-7.5L
                                121.2 346l58.1 116.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9L179.8 320H
                                297.9c12.2 0 22.1-9.9 22.1-22.1c0-6.3-2.7-12.3-7.4-16.5L38.6 37.9C34.3 33.7 28.2
                                31 21.9 31C9.8 31 0 40.8 0 52.9V55.2z"
                            />
                        </svg>
                        <span>Interactive</span>
                        <p>
                            Switch between spaces with a simple click on the menu bar icon.
                        </p>

                        <div class="Spaceman_appVideo" style="margin-top: 1rem;">
                            <video
                                id="spaceman-demo-video" src="images/animation.mov" autoplay muted loop
                                style="width: 66%; height: auto; display: block; margin: 0 auto; border-radius: 4px;"
                                onclick="toggleVideo(this)"
                            />
                        </div>
                    </li>
                    <li>
                        <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="apple"
                            class="svg-inline--fa fa-apple fa-w-12" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                        >
                            <path fill="currentColor" d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2
                                -41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2
                                4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9
                                75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7
                                -90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9
                                -17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"
                            />
                        </svg>
                        <span>Native</span>
                        <p>
                            Compiled to a universal binary to support both Apple Silicon and Intel Macs.
                        </p>
                    </li>
                    <li>
                        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="code-branch"
                            class="svg-inline--fa fa-code-branch fa-w-12" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"
                        >
                            <path fill="currentColor" d="M384 144c0-44.2-35.8-80-80-80s-80 35.8-80 80c0 36.4
                                24.3 67.1 57.5 76.8-.6 16.1-4.2 28.5-11 36.9-15.4 19.2-49.3 22.4-85.2 25.7-28.2
                                2.6-57.4 5.4-81.3 16.9v-144c32.5-10.2 56-40.5 56-76.3 0-44.2-35.8-80-80-80S0
                                35.8 0 80c0 35.8 23.5 66.1 56 76.3v199.3C23.5 365.9 0 396.2 0 432c0 44.2 35.8
                                80 80 80s80-35.8 80-80c0-34-21.2-63.1-51.2-74.6 3.1-5.2 7.8-9.8 14.9-13.4 16.2
                                -8.2 40.4-10.4 66.1-12.8 42.2-3.9 90-8.4 118.2-43.4 14-17.4 21.1-39.8 21.6-67.9
                                31.6-10.8 54.4-40.7 54.4-75.9zM80 64c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16
                                -16 7.2-16 16-16zm0 384c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16
                                16zm224-320c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16z"
                            />
                        </svg>
                        <span>Open-source</span>
                        <p>
                            Fully open source under the MIT license. Contributions and pull requests are welcome.
                        </p>
                    </li>
                </ul>
                <hr>
            </main>
        </div>

        <footer class="Footer_container">
            <main>
                <div class="Footer_socials">
                    <a href="https://github.com/ruittenb">
                        <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github"
                            class="svg-inline--fa fa-github fa-w-16 Footer_icon" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"
                        >
                            <path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6
                                0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1
                                5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6
                                4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1
                                8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2
                                -.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4
                                0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2
                                -112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9
                                -6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27
                                13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8
                                110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2
                                457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2
                                1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1z m-10.8-8.1c-.7
                                1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6 -.3-4.3.7z
                                m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2
                                -2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3
                                1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"
                            />
                        </svg>
                        GitHub
                    </a>
                    <a href="mailto:ruittenb+spaceman@gmail.com">
                        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope"
                            class="svg-inline--fa fa-envelope fa-w-16 Footer_icon" role="img"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"
                        >
                            <path fill="currentColor" d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5
                                48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1
                                39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1
                                131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7
                                173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0
                                85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2
                                50.2 41.8 73.4 41.4z"
                            />
                        </svg>
                        Email
                    </a>
                </div>
            </main>
        </footer>

        <script lang="js">
            const REPO_API = 'https://api.github.com/repos/ruittenb/Spaceman';

            // Fetch repository info and update stars count
            async function updateRepoInfo() {
                try {
                    const response = await fetch(REPO_API);
                    const repo = await response.json();

                    // Update stars count
                    const starsElement = document.getElementById('stars-count');
                    if (starsElement && repo.stargazers_count !== undefined) {
                        starsElement.textContent = repo.stargazers_count.toString();
                    }
                } catch (error) {
                    console.warn('Failed to fetch repository info:', error);
                }
            }

            // Fetch the latest release and update download button and version info
            async function updateReleaseInfo() {
                try {
                    const response = await fetch(`${REPO_API}/releases/latest`);
                    const release = await response.json();

                    // Update version number
                    const versionElement = document.getElementById('version-number');
                    if (versionElement && release.tag_name) {
                        versionElement.textContent = release.tag_name;
                    }

                    // Update date (format: DD MMM YYYY)
                    const dateElement = document.getElementById('updated-date');
                    if (dateElement && release.updated_at) {
                        const date = new Date(release.updated_at);
                        const formattedDate = new Intl.DateTimeFormat('en-GB', {
                            day: 'numeric',
                            month: 'short',
                            year: 'numeric'
                        }).format(date);
                        dateElement.textContent = formattedDate;
                    }

                    // Find the DMG asset and update download button and size
                    const dmgAsset = release.assets.find(asset => asset.name.endsWith('.dmg'));
                    if (dmgAsset) {
                        // Update download button
                        const downloadButton = document.getElementById('download-button');
                        downloadButton.href = dmgAsset.browser_download_url;

                        // Update size (convert bytes to MB, rounded to 1 decimal place)
                        const sizeElement = document.getElementById('app-size');
                        if (sizeElement && dmgAsset.size) {
                            const sizeInMB = (dmgAsset.size / (1024 * 1024)).toFixed(1);
                            sizeElement.textContent = `${sizeInMB} MB`;
                        }

                        const downloadsElement = document.getElementById('downloads');
                        if (downloadsElement) {
                            downloadsElement.title = `latest version: ${dmgAsset.download_count}`;
                        }
                    }
                } catch (error) {
                    // If the API call fails, elements will keep their fallback values
                    console.warn('Failed to fetch latest release:', error);
                }
            }

            function updateDownloadsInfo(downloads) {
                const downloadsElement = document.getElementById('downloads');
                if (downloadsElement) {
                    downloadsElement.innerHTML = downloads;
                }
            }

            // Fetch the download info
            async function getGithubDownloads() {
                let allReleases = [];
                let page = 1;

                try {
                    while (true) {
                        const response = await fetch(`${REPO_API}/releases?page=${page}&per_page=100`);
                        const releases = await response.json();
                        if (releases.length === 0) break;
                        allReleases.push(...releases);
                        page++;
                    }

                    let downloadsByRelease = '';
                    let totalDownloads = 0;

                    allReleases.forEach(release => {
                        const downloads = release.assets.reduce((sum, asset) => sum + asset.download_count, 0);
                        downloadsByRelease += `${release.tag_name}: ${downloads}\n`;
                        totalDownloads += downloads;
                    });

                    console.log(downloadsByRelease);
                    return totalDownloads;
                } catch (error) {
                    console.warn('Failed to fetch download data:', error);
                    return 0;
                }
            }

            async function getSoftpediaDownloadsViaProxy() {
                const url = 'https://mac.softpedia.com/get/System-Utilities/Spaceman.shtml';
                const proxy = 'https://r.jina.ai/http://'; // zet https->http of http->http passend om
                const text = await fetch(proxy + url.replace(/^https?:\/\//, '')).then(r => r.text());
                const m = text.match(/(^|\b)([\d.,]+)\s+downloads?\s+so\s+far\b/i);
                const downloads = m ? parseInt(m[2].replace(/[.,\s]/g, ''), 10) : 0;
                console.log(`Softpedia: ${downloads}`);
                return downloads;
            }

            // Toggle video play/pause
            function toggleVideo(video) {
                if (video.paused) {
                    video.play();
                } else {
                    video.pause();
                }
            }

            // Update repo, release and download info when the page loads
            document.addEventListener('DOMContentLoaded', () => {
                updateRepoInfo();
                updateReleaseInfo();
                let downloads = 0;
                getSoftpediaDownloadsViaProxy()
                    .then((result) => {
                        downloads += result;
                        updateDownloadsInfo(downloads);
                    })
                    .catch(console.error);
                getGithubDownloads()
                    .then((result) => {
                        downloads += result;
                        updateDownloadsInfo(downloads);
                    })
                    .catch(console.error);
            });
        </script>
    </body>
    <!-- vim: set fdm=indent: -->
</html>
